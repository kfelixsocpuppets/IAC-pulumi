name: basic

runtime: yaml

config:
  fortios:cabundlefile:
    value: /etc/ssl/certs/firewall.crt
  fortios:hostname:
    value: 209.44.199.217 
  fortios:insecure:
    value: true 
  fortios:token:
    value: thsNr5qt6dgj7Nfh3Ggynq6z1NGpzn 

resources:
  # Create provider instance
  fortios-provider:
    type: pulumi:providers:fortios
    properties:
      cabundlefile: ${fortios:cabundlefile}
      hostname: ${fortios:hostname}
      insecure: ${fortios:insecure}
      token: ${fortios:token}
 # Create a Static Route Item
  route1:
    type: fortios:networking:RouteStatic
    properties:
      dst: 110.2.2.122/32
      gateway: 192.168.111.111
      device: lan5
    options:
      provider: ${fortios-provider}
#
#


  admintest:
    type: fortios:system:AdminAdministrator
    properties:
      name: demoblog
      accprofile: readonly
      comments: comments-demo-blog-socpuppets
      password: Changeme123
      trusthost1: 192.168.1.0 255.255.255.0
      vdoms:
        - root

# Create a Static Route Item
  route2:
    type: fortios:networking:RouteStatic
    properties:
      dst: 110.2.2.123/32
      gateway: 192.168.111.111
      device: lan5
    options:
      provider: ${fortios-provider}
      
  trname1:
    type: fortios:firewall:Address
    properties:
      name: ken01111
      allowRouting: disable
      subnet: 12.1.1.0 255.255.255.0
      type: ipmask
      visibility: enable

  trname2:   
    type: fortios:firewall:Address
    properties:
      name: ken01112
      allowRouting: disable
      subnet: 12.2.1.0 255.255.255.0
      type: ipmask
      visibility: enable

  trname3:   
    type: fortios:firewall:Address
    properties:
      name: ken01113
      allowRouting: disable
      subnet: 13.2.1.0 255.255.255.0
      type: ipmask
      visibility: enable


  trname:
    type: fortios:firewall:Addrgrp
    properties:
      allowRouting: disable
      name: BLOCKITNOW
      comment: my_block_list
      visibility: enable
      members:
        - name: ${trname1.name}
        - name: ${trname2.name}
        - name: ${trname3.name}
